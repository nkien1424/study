<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org"
      xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout" layout:decorate="~{layout}">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Study4 Clone</title>
    <link rel="stylesheet" type="text/css" href="/css/layout.css">
    <link  href="/js/index.js" >
    <script src="https://code.jquery.com/jquery-3.6.0.min.js" ></script>
</head>
<body >
<!-- Header -->
<div th:replace="~{layout::header}"></div>

<!-- Content -->
<div layout:fragment="content" class="content">
    <!-- Categories -->
    <h2>Th∆∞ Vi·ªán ƒê·ªÅ Thi</h2>
    <div class="categories">
        <a href="#">T·∫•t c·∫£</a>
        <a href="#">IELTS Academic</a>
        <a href="#">IELTS General</a>
        <a href="#">TOEIC</a>
        <a href="#">HSK 1</a>
        <a href="#">HSK 2</a>
        <a href="#">HSK 3</a>
        <a href="#">To√°n THPTQG</a>
        <a href="#">V·∫≠t l√Ω THPTQG</a>
        <a href="#">Sinh h·ªçc THPTQG</a>
    </div>

    <!-- Search Bar -->
    <div class="search-bar">
        <input type="text" placeholder="Nh·∫≠p t·ª´ kh√≥a b·∫°n mu·ªën t√¨m ki·∫øm: t√™n s√°ch, d·∫°ng c√¢u h·ªèi ...">
        <button>T√¨m ki·∫øm</button>
    </div>

    <!-- Exam List -->
    <div class="exam-list">
        <div class="exam-card" th:each="exam : ${exams}" th:data-id="${exam.getID()}   " >
            <h3 th:text="${exam.getName()}"></h3>
            <p>‚è± 40 ph√∫t | üë• 801720 | üí¨ 2396</p>
            <p>8 ph·∫ßn thi | 40 c√¢u h·ªèi</p>
            <div class="tags">
                <span class="tag">#Toiec </span>
            </div>
        </div>

    </div>
</div>
<div th:replace="~{layout::footer}"></div>
</body>
<script>
    $(document).ready(function() {
    // B·∫Øt s·ª± ki·ªán click tr√™n exam-card
    $('.exam-card').click(function() {
        const examId = $(this).data('id'); // L·∫•y id t·ª´ data attribute

        // G·ª≠i AJAX request
        $.ajax({
            url: '/exam',
            type: 'GET',
            data: {
                id: examId
            },
            success: function(response) {
                // X·ª≠ l√Ω khi th√†nh c√¥ng
                window.location.href = '../exam?id=' + examId;
            },
            error: function(xhr) {
                // X·ª≠ l√Ω l·ªói
                alert('Error: ' + xhr.statusText);
            }
        });
    });
});
</script>
</html>

